<div class="umb-editor umb-fileupload" ng-controller="DocumentUpload.WithHistoryController">

    <div ng-show="persistedFiles.length > 0">
        <ul class="thumbnails">
            <li class="span4 thumbnail" ng-repeat="file in persistedFiles">
                <a href="{{file.file}}" target="_blank" ng-switch on="file.isImage">
                    <img ng-src="{{file.thumbnail}}" ng-switch-when="true" alt="{{file.file}}" />
                    <img ng-src="{{file.file}}" ng-switch-when="false" ng-if="file.extension == 'svg'" alt="{{file.file}}" />
                    <span class="file-icon" ng-if="!file.isImage && file.extension != 'svg'">
                        <i class="icon icon-document"></i>
                        <span>.{{file.extension}}</span>
                    </span>
                    <span ng-switch-default>{{file.file}}</span>
                </a>
            </li>
        </ul>

        <input type="checkbox" id="clearFiles-{{model.id}}" name="clearFiles" ng-model="clearFiles" />
        <label for="clearFiles-{{model.id}}" class="inline" style="font-size: 13px; vertical-align: top;">
            <localize key="content_uploadClear">Clear files</localize>
        </label>
        <hr />
        <table>
            <thead>
                <td>File Name</td>
                <td>Date </td>
                <td>Time</td>
            </thead>
            <tr>
                <td>ABCDEF.PDF</td>
                <td>11th July 2017</td>
                <td>14:15</td>
            </tr>
            <tr>
                <td>ABCDEF.PDF</td>
                <td>11th July 2017</td>
                <td>8:12</td>
            </tr>
            <tr>
                <td>ABCDEF.PDF</td>
                <td>10th July 2017</td>
                <td>15:17</td>
            </tr>
            <tr>
                <td>ABCDEF.PDF</td>
                <td>10th July 2017</td>
                <td>12:15</td>
            </tr>
            <tr></tr>
        </table>
    </div>

    <div ng-hide="clearFiles">
        <div class="file-uploader">
            <umb-single-file-upload rebuild="rebuildInput"></umb-single-file-upload>
        </div>
        <ul ng-show="files.length > 0">
            <li ng-repeat="file in files">{{file.file.name}}</li>
        </ul>
    </div>

    <input type="hidden" name="fileCount" ng-model="files.length" val-property-validator="validateMandatory" />

</div>
